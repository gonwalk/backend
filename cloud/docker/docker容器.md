# 1.虚拟化技术

## 1.1 虚拟机与虚拟化技术

虚拟机，就是在操作系统里面，装一个软件，然后通过这个软件，再模拟一台甚至多台“子电脑系统”出来。

虚拟机属于虚拟化技术，像Docker这样的容器技术，也是虚拟化技术，但是属于轻量级的虚拟化。

虚拟机虽然可以隔离出很多“子电脑”，但占用空间更大，启动更慢，虚拟机软件可能还要花钱（例如VMWare）。

而容器技术恰好没有这些缺点。它不需要虚拟出整个操作系统，只需要虚拟一个小规模的环境，这一点类似于“沙箱”。

## 1.2 虚拟机与容器对比

Docker启动时间很快，几秒钟就能完成。而且它对资源的利用率很高，一台主机可以同时运行几千个Docker容器。此外，它占的空间很小，而虚拟机一般要几GB到几十GB的空间，容器只需要MB级甚至KB级。

|特性|虚拟机|容器|
|-|-|-|
|隔离级别|操作系统级|进程级|
|隔离策略|Hypervisor|CGroups|
|系统资源|5 ~ 15%| 0 ~ 5%|
|启动时间|分钟级|秒级|
|镜像存储|GB ~ TB| KB ~ MB|
|集群规模|上百| 上万 |
|高可用策略|备份、容灾、迁移|弹性、负载、动态|

## 1.3 Docker与容器关系

注意：Docker本身并不是容器，它是创建容器的工具，是应用容器的引擎。

通过Docker的两句口号，可以更进一步地了解Docker，。
```
第一句：“Build, Ship and Run”，即“搭建、发送、运行”三板斧。

第二句：“Build once，Run anywhere”，即“搭建一次，到处能用”。
```

# 2.Docker技术

## 2.1 Docker技术三大概念

Docker技术中，有三个核心概念，分别是：
```
镜像（Image）

容器（Container）

仓库（Repository）
```
我刚才例子里面，那个放在包里的“镜像”，就是Docker镜像。而我的背包，就是Docker仓库。我在空地上，用魔法造好的房子，就是一个Docker容器。

说白了，这个Docker镜像，是一个特殊的文件系统。它除了提供容器运行时所需的程序、库、资源、配置等文件外，还包含了一些为运行时准备的一些配置参数（例如环境变量）。镜像不包含任何动态数据，其内容在构建之后也不会被改变。

也就是说，每次变出房子，房子是一样的，但生活用品之类的，都是不管的。谁住谁负责添置。

每一个镜像可以变出一种房子。那么，我可以有多个镜像呀！

也就是说，我盖了一个欧式别墅，生成了镜像。另一个哥们可能盖了一个中国四合院，也生成了镜像。还有哥们，盖了一个非洲茅草屋，也生成了镜像。。。